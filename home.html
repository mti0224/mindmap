<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>èš¯èš“è²“å–µå–µ å¿ƒæ™ºåœ–</title>
  <style>
    :root{
      --bg:#0b1020;
      --panel:#0f1733;
      --text:#e9ecff;
      --muted:#aab1e6;
      --line:rgba(233,236,255,.14);
      --accent:#7c9cff;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans TC";
      background: var(--bg);
      color:var(--text);
      overflow:hidden;
    }

    header{
      position:fixed;
      top:12px;
      left:12px;
      right:12px;
      z-index:5;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }

    .panel{
      background: rgba(15,23,51,.9);
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding:10px 12px;
      backdrop-filter: blur(8px);
      box-shadow: var(--shadow);
    }

    .btn{
      border:1px solid rgba(233,236,255,.2);
      background: rgba(233,236,255,.08);
      color:var(--text);
      padding:8px 12px;
      border-radius:12px;
      cursor:pointer;
    }

    #canvas{
      position:fixed;
      inset:0;
      overflow:hidden;
      cursor:grab;
    }

    #world{
      position:absolute;
      transform-origin:0 0;
    }

    .node{
      position:absolute;
      transform:translate(-50%, -50%);
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(233,236,255,.18);
      background: rgba(233,236,255,.08);
      backdrop-filter: blur(6px);
      cursor:grab;
      user-select:none;
      white-space:nowrap;
    }

    .center{
      background: rgba(124,156,255,.25);
      border-color: rgba(124,156,255,.45);
      font-weight:700;
    }

    svg{
      position:absolute;
      inset:0;
      overflow:visible;
      pointer-events:none;
    }
  </style>
</head>
<body>

<header>
  <div class="panel">
    ğŸ§  èš¯èš“è²“å–µå–µ å¿ƒæ™ºåœ–ï¼ˆå¯ç¸®æ”¾ / å¯å¹³ç§» / å¯æ‹–æ›³å›ºå®šï¼‰
  </div>

  <div class="panel">
    <button class="btn" id="reset">é‡ç½®ä½ˆå±€</button>
    <button class="btn" id="auto">è‡ªå‹•æ’åˆ—</button>
  </div>
</header>

<div id="canvas">
  <div id="world">
    <svg id="edges"></svg>
  </div>
</div>

<script>

const nodesData = [
  {id:'center', label:'èš¯èš“è²“å–µå–µ', x:0, y:0, center:true},
  {id:'dev', label:'ç³»çµ±é–‹ç™¼', x:200, y:0},
  {id:'game', label:'éŠæˆ²åˆ†æ', x:-200, y:0},
  {id:'creator', label:'æŠ€è¡“å‰µä½œ', x:0, y:200},
  {id:'ai', label:'AIæ‡‰ç”¨', x:0, y:-200},
  {id:'backend', label:'Backend', x:350, y:100},
  {id:'bot', label:'Bot/Automation', x:350, y:-100},
  {id:'youtube', label:'YouTube', x:-350, y:100},
  {id:'tools', label:'å·¥å…·é–‹ç™¼', x:-350, y:-100}
];

const links = [
  ['center','dev'],['center','game'],['center','creator'],['center','ai'],
  ['dev','backend'],['dev','bot'],
  ['game','youtube'],['game','tools']
];

const world = document.getElementById('world');
const edgesSvg = document.getElementById('edges');

// å»ºç«‹ç¯€é»
const nodeEls = {};
nodesData.forEach(n=>{
  const el = document.createElement('div');
  el.className = 'node' + (n.center?' center':'');
  el.textContent = n.label;
  world.appendChild(el);
  nodeEls[n.id] = el;
  n.el = el;
});

function render(){
  // nodes
  nodesData.forEach(n=>{
    n.el.style.left = n.x+'px';
    n.el.style.top = n.y+'px';
  });

  // edges
  edgesSvg.innerHTML='';
  links.forEach(([a,b])=>{
    const na = nodesData.find(n=>n.id===a);
    const nb = nodesData.find(n=>n.id===b);

    const line = document.createElementNS("http://www.w3.org/2000/svg","line");
    line.setAttribute('x1',na.x);
    line.setAttribute('y1',na.y);
    line.setAttribute('x2',nb.x);
    line.setAttribute('y2',nb.y);
    line.setAttribute('stroke','rgba(233,236,255,.3)');
    edgesSvg.appendChild(line);
  });
}

render();

// æ‹–æ›³ç¯€é»
nodesData.forEach(n=>{
  let dragging=false;
  n.el.onpointerdown=e=>{
    dragging=true;
    n.el.setPointerCapture(e.pointerId);
  }
  n.el.onpointermove=e=>{
    if(!dragging) return;
    n.x+=e.movementX/scale;
    n.y+=e.movementY/scale;
    render();
  }
  n.el.onpointerup=()=>dragging=false;
});

// å¹³ç§» & ç¸®æ”¾
let scale=1;
let offsetX=window.innerWidth/2;
let offsetY=window.innerHeight/2;

function updateTransform(){
  world.style.transform = `translate(${offsetX}px,${offsetY}px) scale(${scale})`;
}
updateTransform();

let panning=false;

canvas.onpointerdown=e=>{
  if(e.target!==canvas) return;
  panning=true;
}

canvas.onpointermove=e=>{
  if(!panning) return;
  offsetX+=e.movementX;
  offsetY+=e.movementY;
  updateTransform();
}

canvas.onpointerup=()=>panning=false;

canvas.onwheel=e=>{
  e.preventDefault();
  const delta = -e.deltaY*0.001;
  scale+=delta;
  scale=Math.max(0.4,Math.min(2.5,scale));
  updateTransform();
}

// è‡ªå‹•æ’åˆ—
function autoLayout(){
  const r=250;
  nodesData.forEach((n,i)=>{
    if(n.center){n.x=0;n.y=0;return}
    const angle=i*(Math.PI*2/(nodesData.length-1));
    n.x=Math.cos(angle)*r;
    n.y=Math.sin(angle)*r;
  });
  render();
}

// reset
document.getElementById('reset').onclick=()=>{
  scale=1;
  offsetX=window.innerWidth/2;
  offsetY=window.innerHeight/2;
  autoLayout();
  updateTransform();
}

document.getElementById('auto').onclick=autoLayout;

</script>
</body>
</html>
